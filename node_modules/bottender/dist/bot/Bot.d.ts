/// <reference types="node" />
import EventEmitter from 'events';
import SessionStore from '../session/SessionStore';
import { Action, Body, Client, Event, Plugin, RequestContext } from '../types';
import { Connector } from './Connector';
declare type Builder<C extends Client, E extends Event> = {
    build: () => Action<C, E>;
};
export declare function run<C extends Client, E extends Event>(action: Action<C, E>): Action<C, E>;
declare type RequestHandler<B> = (body: B, requestContext?: RequestContext) => void | Promise<void>;
export default class Bot<B extends Body, C extends Client, E extends Event> {
    _sessions: SessionStore;
    _initialized: boolean;
    _connector: Connector<B, C>;
    _handler: Action<C, E> | null;
    _errorHandler: Action<C, E> | null;
    _initialState: Record<string, any>;
    _plugins: Function[];
    _sync: boolean;
    _emitter: EventEmitter;
    constructor({ connector, sessionStore, sync, }: {
        connector: Connector<B, C>;
        sessionStore?: SessionStore;
        sync?: boolean;
    });
    get connector(): Connector<B, C>;
    get sessions(): SessionStore;
    get handler(): Action<C, E> | null;
    get emitter(): EventEmitter;
    onEvent(handler: Action<C, E> | Builder<C, E>): Bot<B, C, E>;
    onError(handler: Action<C, E> | Builder<C, E>): Bot<B, C, E>;
    setInitialState(initialState: Record<string, any>): Bot<B, C, E>;
    use(plugin: Plugin<C, E>): Bot<B, C, E>;
    initSessionStore(): Promise<void>;
    createRequestHandler(): RequestHandler<B>;
}
export {};
//# sourceMappingURL=Bot.d.ts.map